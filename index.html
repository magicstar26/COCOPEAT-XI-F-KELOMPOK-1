<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>P5 Project | Cocopeat</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-brown: #5d4037;
            --accent-green: #81c784;
            --glass: rgba(255, 255, 255, 0.15);
        }

        body {
            margin: 0;
            font-family: 'Poppins', sans-serif;
            color: #fff;
            background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), 
                        url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSSnxtB0tsfY5OyCd0KFa8q9FqV4GgUJf9Y-A&s') no-repeat center center fixed;
            background-size: cover;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px 0;
        }

        .container {
            max-width: 800px;
            width: 90%;
            padding: 40px;
            background: var(--glass);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            text-align: center;
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }

        h1 { font-size: 2.5rem; margin-bottom: 10px; letter-spacing: 2px; }
        .subtitle { display: block; font-weight: 300; margin-bottom: 10px; opacity: 0.9; }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .btn {
            padding: 15px 20px;
            text-decoration: none;
            color: white;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 12px;
            transition: all 0.3s ease;
            font-weight: 500;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            cursor: pointer;
        }

        .btn:hover {
            background: var(--accent-green);
            color: #1a1a1a;
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(129, 199, 132, 0.4);
        }

        .icon { font-size: 1.5rem; }

        #chat-window {
            display: none;
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 320px;
            height: 450px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            flex-direction: column;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            z-index: 9999;
            color: #333;
            overflow: hidden;
        }

        #chat-header {
            background: var(--primary-brown);
            color: white;
            padding: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
        }

        #chat-box {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            font-size: 0.85rem;
            display: flex;
            flex-direction: column;
            gap: 10px;
            background: #f9f9f9;
        }

        .ai-msg { background: #e8f5e9; padding: 8px; border-radius: 10px; align-self: flex-start; }
        .user-msg { background: #efebe9; padding: 8px; border-radius: 10px; align-self: flex-end; }

        .chat-input-area { display: flex; border-top: 1px solid #ddd; padding: 10px; }
        #user-input { flex: 1; border: none; outline: none; padding: 5px; font-family: inherit; }

        .footer { margin-top: 40px; font-size: 0.8rem; opacity: 0.7; }
    </style>
</head>
<body>

    <div class="container">
        <h1>COCOPEAT P5</h1>
        <span class="subtitle">Media Tanam Ramah Lingkungan untuk Masa Depan Berkelanjutan</span>
        <span class="subtitle">Kelompok 1 | Kelas XI-F</span>        
        
        <div class="grid-container">
            <a href="https://drive.google.com/drive/folders/1zgG6RxzmMMIQVvTWqpI_sluKQ6BvmO2G?usp=sharing" class="btn" target="_blank"><span class="icon">üìÑ</span> Jurnal Proyek</a>
            <a href="https://drive.google.com/drive/folders/101dJncHsoZFc0DsxlW1xb2jCYdiL3fYp?usp=drive_link" class="btn" target="_blank"><span class="icon">üé¨</span> Video Pembuatan</a>
            <a href="https://drive.google.com/drive/folders/1S5GAzFrGmkj0IZ9CLsfePH6aXl5lFnwo?usp=drive_link" class="btn" target="_blank"><span class="icon">üì∑</span> Dokumentasi</a>
            <a href="https://drive.google.com/drive/folders/15NwEpFZ4lUAdAlRtHiaK5r_OuGEgy5vh?usp=drive_link" class="btn" target="_blank"><span class="icon">üìñ</span> Leaflet</a>
            <a href="https://drive.google.com/drive/folders/1mRrCGii8sPQ0abcqlyZA6MV1WsRVXSU4?usp=drive_link" class="btn" target="_blank"><span class="icon">üìä</span> Presentasi PPT</a>
            <a href="https://drive.google.com/drive/folders/1RzHB2E_0bA_vtRlrzJEPHhiGFdJiLoTS?usp=sharing" class="btn" target="_blank"><span class="icon">üß™</span> Uji Coba</a>
            <a href="https://wa.me/082120809514" class="btn" target="_blank"><span class="icon">üì±</span> contact person 1</a>
            <a href="https://wa.me/0882002153900" class="btn" target="_blank"><span class="icon">üì±</span> contact person 2</a>
            <div class="btn" onclick="showUserInfo()">
            <span class="icon">‚ÑπÔ∏è</span> Info Pengguna
            </div>
            <div class="btn" onclick="toggleChat()" style="background: rgba(129, 199, 132, 0.3); border-color: var(--accent-green);">
                <span class="icon">‚ú®</span> Tanya cocopeat AI 
            </div>
        </div>

        <div class="footer"> &copy; 2026 Project P5 - Tim Cocopeat Smangges </div>
    </div>

    <div id="chat-window">
        <div id="chat-header">
            <span>Cocopeat Assistant</span>
            <span style="cursor:pointer" onclick="toggleChat()">√ó</span>
        </div>
        <div id="chat-box">
            <div class="ai-msg">Halo! Saya cocopeat AI. Ada yang ingin ditanyakan tentang produk Cocopeat kami?</div>
        </div>
        <div class="chat-input-area">
            <input type="text" id="user-input" placeholder="Tulis pertanyaan...">
            <button onclick="sendMessage()" style="cursor:pointer; border:none; background:none; font-weight:600; color:var(--primary-brown)">Kirim</button>
        </div>
    </div>

<script>
    // API KEY YANG BENAR
    const API_KEY = "AIzaSyBj5YCrEDwRb2kqUPleIGHRWrFeK2_2e-0";

    function toggleChat() {
        const chat = document.getElementById('chat-window');
        chat.style.display = (chat.style.display === 'flex') ? 'none' : 'flex';
    }
    function showUserInfo() {
        alert("Informasi Proyek P5:\n\n" +
              "Dibuat Oleh: Kelompok 1 - Kelas XI-F\n" +
              "Anggota: 10 Orang Siswa\n\n" +
              "Azzam Luthfie Billah\n" +
              "Annisa Fahdah Syahrin\n" +
"Ghalliyah Afra Nandita\n" +
"Lina Royani\n" +
"Sepi Aji\n" +
"Siti Alsyah\n" +
"Windi Diana\n" +
"Yudha Yudhistira Ayudya Sullyandana\n" +
"Yusuf Aditya\n" +
"Velisa Fatmawati\n\n" +
              "Topik: Pemanfaatan Cocopeat sebagai media tanam ramah lingkungan.\n\n" +
              "Gunakan tombol 'Tanya cocopeat AI' untuk berdiskusi lebih lanjut!");
    }
    async function sendMessage() {
        const input = document.getElementById('user-input');
        const box = document.getElementById('chat-box');
        const text = input.value.trim();

        if (!text) return;

        box.innerHTML += `<div class="user-msg">${text}</div>`;
        input.value = '';
        
        const loadingId = "ai-" + Date.now();
        box.innerHTML += `<div class="ai-msg" id="${loadingId}">...</div>`;
        box.scrollTop = box.scrollHeight;

        try {
            // MENGGUNAKAN LOGIKA KODE LAMA ANDA UNTUK CEK MODEL
            const listResponse = await fetch(`https://generativelanguage.googleapis.com/v1beta/models?key=${API_KEY}`);
            const listData = await listResponse.json();
            
            // Cari model yang mendukung 'generateContent'
            const availableModel = listData.models.find(m => m.supportedGenerationMethods.includes('generateContent'));

            if (!availableModel) {
                document.getElementById(loadingId).innerText = "Tidak ada model aktif ditemukan.";
                return;
            }

            const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/${availableModel.name}:generateContent?key=${API_KEY}`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    contents: [{
                        parts: [{
                            text: "Kamu adalah cocopeat AI, Jawab dengan ramah, jika ditanya ini dari kelompok mana, jawab saja kelompok 1 kelas XI-F. gunakan referensi dari jurnal resmi. jawab dengan runtut, sistematis, dan formal. Jangan gunakan simbol bintang atau bold: kami terdiri dari 10 anggota: Azzam Luthfie Billah, Annisa Fahdah Syahrin, Ghalliyah Afra Nandita, Lina Royani, Sepi Aji, Siti Alsyah, Windi Diana, Yudha Yudhistira Ayudya Sullyandana, Yusuf Aditya, Velisa Fatmawati. untuk harga cocopeatnya bisa ditanyakan ke contact person. jawaban terstruktur tapi ringkas (sesuai dengan apa yang ditanyakan,jangan kasih semua info). jagolah anda dalam public speaking dan promosi" + text
                        }]
                    }]
                })
            });

            const data = await response.json();
            if (data.candidates && data.candidates[0].content) {
                document.getElementById(loadingId).innerText = data.candidates[0].content.parts[0].text;
            } else {
                document.getElementById(loadingId).innerText = "Google menolak permintaan. Cek kuota API.";
            }

        } catch (error) {
            console.error(error);
            document.getElementById(loadingId).innerText = "Maaf, ada kendala koneksi atau API Key salah.";
        }
        box.scrollTop = box.scrollHeight;
    }

    document.getElementById('user-input').onkeydown = function(e){
       if(e.keyCode == 13) sendMessage();
    };
</script>
</body>
</html>
